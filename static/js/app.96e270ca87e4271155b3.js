webpackJsonp([1],{"+9Mh":function(t,s){},"+mdc":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"ratings"},[e("div",{ref:"ratingsWrapper",staticClass:"ratings-wrapper"},[e("div",[e("div",{staticClass:"info"},[e("div",{staticClass:"score"},[e("h1",[t._v(t._s(t.seller.score))]),t._v(" "),e("p",{staticClass:"score-info"},[t._v("综合评分")]),t._v(" "),e("p",{staticClass:"score-compare"},[t._v("高于周边商家"+t._s(t.seller.rankRate)+"%")])]),t._v(" "),e("div",{staticClass:"star-info"},[e("div",[e("p",[t._v("服务态度")]),t._v(" "),e("span",{staticClass:"star-wrapper"},[e("star",{attrs:{score:t.seller.serviceScore,size:36}})],1),t._v(" "),e("p",{staticClass:"score-detail"},[t._v(t._s(t.seller.serviceScore))])]),t._v(" "),e("div",[e("p",[t._v("商品评分")]),t._v(" "),e("span",{staticClass:"star-wrapper"},[e("star",{attrs:{score:t.seller.foodScore,size:36}})],1),t._v(" "),e("p",{staticClass:"score-detail"},[t._v(t._s(t.seller.foodScore))])]),t._v(" "),e("div",[e("p",[t._v("送达时间")]),t._v(" "),e("p",{staticClass:"delivery-time"},[t._v("\n              "+t._s(t.seller.deliveryTime)+"分钟\n            ")])])])]),t._v(" "),e("div",{staticClass:"ratings-detail"},[e("ratingsDetails",{attrs:{ratings:t.ratings,selectDesc:t.selectDesc},on:{contentChange:function(s){t._initScroll()}}})],1)])]),t._v(" "),e("shopcart",{attrs:{goods:t.goods,deliveryPrice:t.seller.deliveryPrice,minPrice:t.seller.minPrice}})],1)},a=[],n={render:i,staticRenderFns:a};s.a=n},"/cZ4":function(t,s,e){"use strict";var i=e("NVrd"),a=e("3P9l"),n=e("jkBu"),o=e("xSw9"),r=e("m3es"),c=e.n(r);s.a={components:{star:i.a,ratingsDetails:a.a,shopcart:o.a},data:function(){return{selectDesc:{all:"全部",pleased:"满意",unpleased:"不满意"}}},props:{seller:{type:Object},ratings:{type:Array},goods:{}},mounted:function(){n.a.$emit("countChange"),this._initScroll()},methods:{_initScroll:function(){this.scroll=new c.a(this.$refs.ratingsWrapper,{click:!0})}}}},"0IVb":function(t,s){},"3P9l":function(t,s,e){"use strict";function i(t){e("A4eY")}var a=e("N3Lp"),n=e("iO5n"),o=e("VU/8"),r=i,c=o(a.a,n.a,r,"data-v-a9739000",null);s.a=c.exports},"5q6o":function(t,s){},"8J2q":function(t,s,e){"use strict";function i(t){e("o4UB")}var a=e("PkAO"),n=e("x8iV"),o=e("VU/8"),r=i,c=o(a.a,n.a,r,null,null);s.a=c.exports},"8goW":function(t,s){},A4eY:function(t,s){},AKNT:function(t,s,e){"use strict";function i(t){e("+9Mh")}var a=e("/cZ4"),n=e("+mdc"),o=e("VU/8"),r=i,c=o(a.a,n.a,r,null,null);s.a=c.exports},AsYy:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shopcart"},[e("div",{staticClass:"content"},[e("div",{staticClass:"shop-icon-wrapper"},[e("div",{staticClass:"shop-icon",class:{light:t.totalCount>0},on:{click:t.toggleShopList}},[e("i",{staticClass:"icon-shopping_cart"}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.totalCount>0,expression:"totalCount>0"}],staticClass:"count"},[t._v(t._s(t.totalCount))])])]),t._v(" "),e("div",{staticClass:"detail"},[e("p",{staticClass:"goodsPrice",class:{light:t.totalPrice>0}},[t._v("￥"+t._s(t.totalPrice))]),t._v(" "),e("hr",{staticClass:"cutLine"}),t._v(" "),e("p",{staticClass:"freight"},[t._v("另需配送费￥"+t._s(t.deliveryPrice)+"元")])])]),t._v(" "),e("div",{staticClass:"submit",class:{light:t.totalPrice>=t.minPrice}},[t._v("\r\n        "+t._s(t.submitPrice)+"\r\n    ")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.shopShow,expression:"shopShow"}],staticClass:"shopcart-list"},[e("div",{staticClass:"header"},[e("p",[t._v("购物车")]),t._v(" "),e("p",{staticClass:"clear",on:{click:t.clearList}},[t._v("清空")])]),t._v(" "),e("div",{ref:"listWrapper",staticClass:"shopList-wrapper"},[e("ul",{ref:"listDetail",staticClass:"list-detail"},t._l(this.list,function(s,i){return e("li",{key:i},[e("p",[t._v(t._s(s.name))]),t._v(" "),e("p",{staticClass:"price"},[e("span",[t._v("￥")]),t._v(t._s(s.price))]),t._v(" "),e("div",{staticClass:"cartcontrol-wrapper"},[e("cartcontrol",{attrs:{food:s}})],1)])}))])])])},a=[],n={render:i,staticRenderFns:a};s.a=n},B1bB:function(t,s,e){"use strict";var i=e("g4PW"),a=e.n(i),n=e("m3es"),o=e.n(n),r=e("JfSB"),c=e("xSw9"),l=e("Jn7X"),u=e("8J2q"),v=e("jkBu");s.a={data:function(){return{listHeight:[],position:{y:0},clickEle:null,foodDetail:{}}},props:{seller:{type:Object},ratings:{},goods:{}},mounted:function(){var t=this;this.$nextTick(function(){v.a.$emit("countChange"),t._initScroll()})},components:{"v-icon":r.a,shopcart:c.a,cartcontrol:l.a,food:u.a},computed:{currentIndex:function(){var t=Math.abs(this.position.y-10);return this.listHeight.findIndex(function(s,e,i){return s>t})-1}},methods:{_initScroll:function(){var t=this;this.menuScroll=new o.a(this.$refs.menu,{tap:!0}),this.foodsListScroll=new o.a(this.$refs.foodsList,{probeType:3,click:!0}),setTimeout(function(){t.menuScroll.refresh(),t.foodsListScroll.refresh(),t.computeHeight()},200),this.scrollEvent()},computeHeight:function(){var t=this.$refs.foodsList.getElementsByClassName("foodsDetail");this.listHeight.push(0);for(var s=0;s<t.length;s++)this.listHeight.push(t[s].clientHeight+this.listHeight[s])},scrollEvent:function(){var t=this;this.foodsListScroll.on("scroll",function(s){t.position.y=s.y}),this.$refs.menu.addEventListener("tap",function(s){t.skipEle(s)})},skipEle:function(){for(var t,s=event.path[1],e=this.$refs.menu.childNodes[0].childNodes,i=-1,n=0;t=e[n];n++)if(a()(t,s)){i=n;break}this.foodsListScroll.scrollTo(0,-this.listHeight[i],300)},clickGoodsItems:function(t,s){"I"!==s.target.nodeName&&(this.foodDetail=t,this.$nextTick(function(){this.$refs.foodEle.toggleShow()}))}}}},CLHr:function(t,s){},EKWH:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"star"},t._l(t.classItems,function(t,s){return e("span",{key:s,class:t})}))},a=[],n={render:i,staticRenderFns:a};s.a=n},EPT2:function(t,s,e){"use strict";var i=e("7+uW");s.a=new i.a},FETT:function(t,s,e){"use strict";s.a={props:{score:{type:Number},amount:{type:Number,default:5},size:{type:Number}},computed:{classItems:function(){var t=[],s=Math.round(this.score),e=this.size;this.score>this.amount&&console.log("数值不对");for(var i=0;i<s;i++)t.push("on-"+e);for(s>this.score&&(t.pop(),t.push("half-"+e));t.length!==this.amount;)t.push("off-"+e);return t}}}},JfSB:function(t,s,e){"use strict";function i(t){e("CLHr")}var a=e("gFGB"),n=e("k8j/"),o=e("VU/8"),r=i,c=o(a.a,n.a,r,null,null);s.a=c.exports},Jn7X:function(t,s,e){"use strict";function i(t){e("5q6o")}var a=e("MM04"),n=e("qyqs"),o=e("VU/8"),r=i,c=o(a.a,n.a,r,null,null);s.a=c.exports},M93x:function(t,s,e){"use strict";function i(t){e("rSMz")}var a=e("xJD8"),n=e("xSyG"),o=e("VU/8"),r=i,c=o(a.a,n.a,r,null,null);s.a=c.exports},MM04:function(t,s,e){"use strict";var i=(e("7+uW"),e("jkBu"));s.a={data:function(){return{}},props:{food:{type:Object}},computed:{},methods:{addCount:function(t){this.food.count?this.food.count++:this.$set(this.food,"count",1),this.countChange()},removeCount:function(t){this.food.count>0&&this.food.count--,this.countChange()},countChange:function(){i.a.$emit("countChange")}}}},N0EE:function(t,s,e){"use strict";function i(t){e("Xshv")}var a=e("VCv5"),n=e("fpm+"),o=e("VU/8"),r=i,c=o(a.a,n.a,r,"data-v-6b7871a0",null);s.a=c.exports},N3Lp:function(t,s,e){"use strict";s.a={data:function(){return{OnlyContentState:this.onlyContent,selectTypeState:this.selectType}},props:{ratings:{type:Array},selectDesc:{type:Object,default:function(){return{all:"全部",pleased:"推荐",unpleased:"吐槽"}}},selectType:{type:Number,default:function(){return-1}},onlyContent:{type:Boolean,default:function(){return!1}}},methods:{timeShift:function(t){var s=new Date(t),e=s.toTimeString(),i=s.toLocaleDateString();return e=e.split(" ")[0],i=i.split("/").join("-"),[i,e]},toggleSelectContent:function(t){this.OnlyContentState=!this.OnlyContentState,this.$emit("contentChange")},toggleSelectType:function(t){this.$emit("contentChange");for(var s=t.target,e=s.parentNode,i=[].filter.call(e.childNodes,function(t){if("BUTTON"===t.nodeName)return!0}),a=0;a<i.length;a++)if(s===i[a]){switch(a-1){case-1:this.selectTypeState=-1;break;case 0:this.selectTypeState=0;break;case 1:this.selectTypeState=1}break}},onlyContentShow:function(t){var s=!0;return this.OnlyContentState&&""===t&&(s=!1),s},selectTypeShow:function(t){return-1===this.selectTypeState||t===this.selectTypeState}}}},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=e("7+uW"),a=e("/ocq"),n=e("M93x"),o=e("PXOj"),r=e("AKNT"),c=e("N0EE");i.a.use(a.a),i.a.config.productionTip=!1;var l=[{path:"/goods",component:o.a},{path:"/ratings",component:r.a},{path:"/seller",component:c.a}],u=new a.a({routes:l,linkActiveClass:"active"});u.push("/goods"),new i.a({el:"#app",template:"<App/>",components:{App:n.a},router:u})},NVrd:function(t,s,e){"use strict";function i(t){e("8goW")}var a=e("FETT"),n=e("EKWH"),o=e("VU/8"),r=i,c=o(a.a,n.a,r,null,null);s.a=c.exports},OSoY:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods"},[e("div",{staticClass:"goods-show"},[e("div",{ref:"menu",staticClass:"menu"},[e("ul",{staticClass:"typeList"},t._l(t.goods,function(s,i){return e("li",{key:i,class:{active:t.currentIndex===i}},[0!==i?e("hr",{staticClass:"cutline"}):t._e(),t._v(" "),e("span",{staticClass:"text"},[t.goods[i].type>=0?e("v-icon",{staticClass:"icon",attrs:{form:t.goods[i].type}}):t._e(),t._v(t._s(s.name))],1)])}))]),t._v(" "),e("div",{ref:"foodsList",staticClass:"foodsList"},[e("div",{staticClass:"wrapper"},t._l(t.goods,function(s,i){return e("ul",{key:i,staticClass:"foodsDetail"},[e("h5",[e("hr"),t._v(t._s(s.name))]),t._v(" "),t._l(s.foods,function(s,i){return e("li",{key:i,staticClass:"goodsItem",on:{click:function(e){t.clickGoodsItems(s,e)}}},[0!==i?e("hr",{staticClass:"cutline"}):t._e(),t._v(" "),e("div",{staticClass:"logo"},[e("img",{attrs:{src:s.icon,alt:"商品图"}})]),t._v(" "),e("div",{staticClass:"info"},[e("h4",[t._v(t._s(s.name))]),t._v(" "),e("p",[t._v(t._s(s.description))]),t._v(" "),e("p",[t._v("月售"+t._s(s.sellCount)),e("span",{staticClass:"rating"},[t._v("好评率"+t._s(s.rating)+"%")])]),t._v(" "),e("p",{staticClass:"price"},[e("span",{staticClass:"newPrice"},[e("span",{staticClass:"symbol"},[t._v("￥")]),t._v(t._s(s.price))]),s.oldPrice?e("span",{staticClass:"oldPrice"},[t._v("￥"+t._s(s.oldPrice))]):t._e()])]),t._v(" "),e("div",{staticClass:"cartcontrol-wrapper"},[e("cartcontrol",{attrs:{food:s}})],1)])})],2)}))])]),t._v(" "),e("shopcart",{attrs:{goods:t.goods,deliveryPrice:t.seller.deliveryPrice,minPrice:t.seller.minPrice}}),t._v(" "),e("food",{ref:"foodEle",attrs:{detail:t.foodDetail}})],1)},a=[],n={render:i,staticRenderFns:a};s.a=n},PXOj:function(t,s,e){"use strict";function i(t){e("vRDo")}var a=e("B1bB"),n=e("OSoY"),o=e("VU/8"),r=i,c=o(a.a,n.a,r,null,null);s.a=c.exports},PkAO:function(t,s,e){"use strict";var i=e("m3es"),a=e.n(i),n=e("3P9l"),o=e("Jn7X");s.a={components:{ratingsDetails:n.a,cartcontrol:o.a},data:function(){return{foodScroll:void 0,showState:!1,imgSrc:void 0}},props:{detail:{type:Object}},methods:{_initScroll:function(){var t=this;this.foodScroll||(this.foodScroll=new a.a(this.$refs.food,{probeType:3,click:!0}),setTimeout(function(){t.foodScroll.refresh()},500))},toggleShow:function(){this.$nextTick(function(){this._initScroll(),this.showState=!this.showState})},addCount:function(t){this.$set(t,"count",1),this.$refs.cartcontrol.countChange()}}}},RgqF:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:t.seller.avatar,alt:""}})]),t._v(" "),e("div",{staticClass:"information"},[e("p",{staticClass:"name"},[e("v-icon",{staticClass:"icon",attrs:{form:"brand"}}),t._v(t._s(t.seller.name))],1),t._v(" "),e("p",{staticClass:"description"},[t._v(t._s(t.seller.description)+"/"+t._s(t.seller.deliveryTime)+"分钟送达")]),t._v(" "),t.seller.supports?e("p",{staticClass:"support",on:{click:t.showDetail}},[e("v-icon",{staticClass:"icon",attrs:{form:t.seller.supports[0].type}}),t._v("\n      "+t._s(t.seller.supports[0].description)+"\n    ")],1):t._e(),t._v(" "),t.seller.supports?e("span",{staticClass:"support-num",on:{click:t.showDetail}},[e("p",[t._v(t._s(t.seller.supports.length)+"个"),e("i",{staticClass:"icon-keyboard_arrow_right"})])]):t._e()]),t._v(" "),e("div",{staticClass:"notice"}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.detailShow,expression:"detailShow"}],staticClass:"detail"},[e("section",[e("h3",{staticClass:"name"},[t._v(t._s(t.seller.name))]),t._v(" "),e("v-star",{attrs:{score:t.seller.score,size:48}}),t._v(" "),t.seller.supports?e("div",{staticClass:"partition"},[e("hr"),t._v(" "),e("h4",[t._v("优惠信息")]),t._v(" "),e("hr")]):t._e(),t._v(" "),t.seller.supports?e("ul",{staticClass:"supportDetail"},t._l(t.seller.supports,function(s,i){return e("li",{key:i},[e("v-icon",{staticClass:"icon",attrs:{form:s.type}}),t._v("\n            "+t._s(s.description))],1)})):t._e(),t._v(" "),t.seller.bulletin?e("div",{staticClass:"partition"},[e("hr"),t._v(" "),e("h4",[t._v("商家公告")]),t._v(" "),e("hr")]):t._e(),t._v(" "),t.seller.bulletin?e("p",{staticClass:"bulletin"},[t._v(t._s(t.seller.bulletin))]):t._e()],1),t._v(" "),e("footer",[e("i",{staticClass:"icon-close",on:{click:t.hideDetail}})])])])},a=[],n={render:i,staticRenderFns:a};s.a=n},VCv5:function(t,s,e){"use strict";var i=e("NVrd"),a=e("JfSB"),n=e("xSw9"),o=e("jkBu"),r=e("m3es"),c=e.n(r);s.a={components:{star:i.a,icon:a.a,shopcart:n.a},data:function(){return{isFavorite:!1}},props:{seller:{type:Object},ratings:{},goods:{}},methods:{_initScroll:function(){this.scroll=new c.a(this.$refs.sellerWrapper,{click:!0}),this.photoScroll=new c.a(this.$refs.photo,{scrollX:!0})}},mounted:function(){o.a.$emit("countChange"),this._initScroll()}}},Xshv:function(t,s){},"fpm+":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"seller"},[e("div",{ref:"sellerWrapper",staticClass:"seller-wrapper"},[e("div",[e("div",{staticClass:"info-basic"},[e("div",[e("div",{staticClass:"info"},[e("h4",[t._v(t._s(t.seller.name))]),t._v(" "),e("p",{staticClass:"info-data"},[e("span",{staticClass:"star-wrapper"},[e("star",{attrs:{score:t.seller.score,size:36}})],1),t._v(" "),e("span",{staticClass:"rating-count"},[t._v("("+t._s(t.seller.ratingCount)+")")]),t._v(" "),e("span",{staticClass:"sell-count"},[t._v("月售"+t._s(t.seller.sellCount)+"单")])])]),t._v(" "),e("div",{staticClass:"favorite",on:{click:function(s){t.isFavorite=!t.isFavorite}}},[e("i",{class:[t.isFavorite?"favorite-active":"","icon-favorite"]}),t._v(" "),t.isFavorite?e("p",[t._v("已收藏")]):t._e(),t._v(" "),t.isFavorite?t._e():e("p",[t._v("未收藏")])])]),t._v(" "),e("div",[e("div",{staticClass:"minPrice"},[e("p",{staticClass:"info"},[t._v("起送价")]),t._v(" "),e("p",[t._v(t._s(t.seller.minPrice)),e("span",{staticClass:"string"},[t._v("元")])])]),t._v(" "),e("div",{staticClass:"deliveryPrice"},[e("p",{staticClass:"info"},[t._v(t._s(t.seller.description))]),t._v(" "),e("p",[t._v(t._s(t.seller.deliveryPrice)),e("span",{staticClass:"string"},[t._v("元")])])]),t._v(" "),e("div",{staticClass:"deliveryTime"},[e("p",{staticClass:"info"},[t._v("平均配送时间")]),t._v(" "),e("p",[t._v(t._s(t.seller.deliveryTime)),e("span",{staticClass:"string"},[t._v("分钟")])])])])]),t._v(" "),t.seller.bulletin?e("div",{staticClass:"bulletin"},[e("h4",[t._v("公告与活动")]),t._v(" "),e("p",[t._v(t._s(t.seller.bulletin))]),t._v(" "),e("ul",t._l(t.seller.supports,function(s,i){return e("li",{key:i,staticClass:"support-list"},[e("icon",{staticClass:"icon",attrs:{form:s.type}}),t._v("\n            "+t._s(s.description)+"\n          ")],1)}))]):t._e(),t._v(" "),e("div",{staticClass:"seller-photo"},[e("h4",[t._v("商家实景")]),t._v(" "),e("div",{ref:"photo",staticClass:"photo"},[e("div",{staticClass:"photo-wrapper"},t._l(t.seller.pics,function(t,s){return e("img",{key:s,attrs:{src:t,alt:"实景图"}})}))])]),t._v(" "),e("div",{staticClass:"seller-info"},[e("h4",[t._v("商家信息")]),t._v(" "),e("ul",t._l(t.seller.infos,function(s,i){return e("li",{key:i,staticClass:"info-detail"},[e("p",[t._v(t._s(s))])])}))])])]),t._v(" "),e("shopcart",{attrs:{goods:t.goods,deliveryPrice:t.seller.deliveryPrice,minPrice:t.seller.minPrice}})],1)},a=[],n={render:i,staticRenderFns:a};s.a=n},gFGB:function(t,s,e){"use strict";s.a={props:["form"],data:function(){return{supportIcon:["decrease","discount","special","invoice","guarantee"]}}}},"h/N8":function(t,s,e){"use strict";var i=e("NVrd"),a=e("JfSB");s.a={data:function(){return{detailShow:!1}},methods:{showDetail:function(){this.detailShow=!0},hideDetail:function(){this.detailShow=!1}},props:{seller:{type:Object}},components:{"v-star":i.a,"v-icon":a.a}}},hxP8:function(t,s,e){"use strict";function i(t){e("qrPc")}var a=e("h/N8"),n=e("RgqF"),o=e("VU/8"),r=i,c=o(a.a,n.a,r,null,null);s.a=c.exports},iO5n:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rating"},[e("div",{staticClass:"rating-select"},[e("p",{staticClass:"rating-title"},[t._v("商品评价")]),t._v(" "),e("div",{staticClass:"select-type",on:{click:function(s){t.toggleSelectType(s)}}},[e("button",[t._v(t._s(t.selectDesc.all))]),t._v(" "),e("button",[t._v(t._s(t.selectDesc.pleased))]),t._v(" "),e("button",[t._v(t._s(t.selectDesc.unpleased))])]),t._v(" "),e("p",{staticClass:"select-content",on:{click:function(s){t.toggleSelectContent(s)}}},[e("i",{class:[t.OnlyContentState?"icon-active":"","icon-check_circle"]}),e("span",[t._v("只看有内容的评价")])])]),t._v(" "),e("ul",{staticClass:"rating-details"},t._l(t.ratings,function(s,i){return t.onlyContentShow(s.text)&&t.selectTypeShow(s.rateType)?e("li",{key:i},[e("div",{staticClass:"ratings-info"},[e("p",{staticClass:"time"},[e("span",{staticClass:"date"},[t._v(t._s(t.timeShift(s.rateTime)[0]))]),t._v(t._s(t.timeShift(s.rateTime)[1]))]),t._v(" "),e("p",{staticClass:"user-info"},[e("span",{staticClass:"name"},[t._v(t._s(s.username))]),e("img",{staticClass:"avatar",attrs:{src:s.avatar,alt:"头像"}})])]),t._v(" "),e("div",{staticClass:"rating-content"},[e("p",[e("i",{class:0===s.rateType?"icon-thumb_up":"icon-thumb_down"}),e("span",{staticClass:"rating-text"},[t._v(t._s(s.text))])])])]):t._e()}))])},a=[],n={render:i,staticRenderFns:a};s.a=n},jUHR:function(t,s,e){"use strict";var i=e("Gu7T"),a=e.n(i),n=e("BO1k"),o=e.n(n),r=e("JfSB"),c=e("m3es"),l=e.n(c),u=e("Jn7X"),v=e("jkBu");s.a={data:function(){return{list:[],shopShow:!1}},components:{"v-icon":r.a,cartcontrol:u.a},props:{goods:{default:{}},deliveryPrice:{type:Number},minPrice:{type:Number}},computed:{totalCount:function(){var t=0;return this.list.forEach(function(s){t+=s.count}),t},totalPrice:function(){var t=0;return this.list.forEach(function(s){t+=s.price*s.count}),t},submitPrice:function(){var t=this.minPrice;if(0===this.totalPrice)return"￥"+t+"起送";if(this.totalPrice<this.minPrice){return"还差￥"+(this.minPrice-this.totalPrice)+"起送"}return this.totalPrice>=this.minPrice?"去结算":void 0}},methods:{_initScroll:function(){var t=this;this.shopListScroll=new l.a(this.$refs.listWrapper,{probeType:3,click:!0}),setTimeout(function(){t.shopListScroll.refresh()},1e3)},screenList:function(){var t=[],s=[],e=!0,i=!1,n=void 0;try{for(var r,c=o()(this.goods);!(e=(r=c.next()).done);e=!0){t=r.value.foods.filter(function(t){if(t.count>0)return!0}),s.push.apply(s,a()(t))}}catch(t){i=!0,n=t}finally{try{!e&&c.return&&c.return()}finally{if(i)throw n}}this.list=s},toggleShopList:function(){var t=this;this.shopShow=!this.shopShow,void 0===this.shopListScroll?this.$nextTick(function(){t._initScroll()}):this.shopListScroll.refresh()},clearList:function(){this.list.forEach(function(t){t.count=0}),this.list=[]},testListHeight:function(){var t=this.$refs.listDetail;if(void 0!==t)return void 0!==t.clientHeight&&t.clientHeight>=350}},mounted:function(){var t=this;v.a.$on("countChange",function(s){Array.isArray(t.goods)&&(t.screenList(),t.testListHeight()&&t.$nextTick(function(){t._initScroll()}))})}}},jkBu:function(t,s,e){"use strict";var i=e("EPT2"),a=e("VU/8"),n=a(i.a,null,null,null,null);s.a=n.exports},"k8j/":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement;return(t._self._c||s)("span",{staticClass:"icon",class:t.supportIcon[t.form]?t.supportIcon[t.form]:t.form})},a=[],n={render:i,staticRenderFns:a};s.a=n},o4UB:function(t,s){},qrPc:function(t,s){},qyqs:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"cartcontrol",staticClass:"cartcontrol"},[e("transition",{attrs:{name:"fade move"}},[t.food.count?e("div",{staticClass:"remove",on:{click:t.removeCount}},[e("i",{staticClass:"icon-remove_circle_outline"})]):t._e()]),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.food.count?e("p",{staticClass:"count"},[t._v(t._s(t.food.count))]):t._e()]),t._v(" "),e("div",{staticClass:"add",on:{click:t.addCount}},[e("i",{staticClass:"icon-add_circle"})])],1)},a=[],n={render:i,staticRenderFns:a};s.a=n},rSMz:function(t,s){},vRDo:function(t,s){},x8iV:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showState,expression:"showState"}],ref:"food",staticClass:"food"},[e("div",{staticClass:"food-content"},[e("div",{staticClass:"info-basic"},[e("div",{staticClass:"back"},[e("i",{staticClass:"icon-arrow_lift",on:{click:t.toggleShow}})]),t._v(" "),e("img",{attrs:{src:t.detail.image,alt:t.detail.name}}),t._v(" "),e("div",{staticClass:"text"},[e("p",{staticClass:"name"},[t._v(t._s(t.detail.name))]),t._v(" "),e("p",[e("span",{staticClass:"sales"},[t._v("月售"+t._s(t.detail.sellCount)+"份")]),t._v(" "),e("span",{staticClass:"rating"},[t._v("好评率100%")])]),t._v(" "),e("p",{staticClass:"price"},[t._v("￥"+t._s(t.detail.price)+"\n                    "),t.detail.oldPrice?e("span",{staticClass:"oldPrice"},[t._v("￥"+t._s(t.detail.oldPrice))]):t._e()]),t._v(" "),e("div",{staticClass:"ShopCart-wrapper"},[e("span",{directives:[{name:"show",rawName:"v-show",value:0===t.detail.count||void 0===t.detail.count,expression:"detail.count===0||detail.count===undefined"}],on:{click:function(s){t.addCount(t.detail)}}},[t._v("加入购物车")]),t._v(" "),e("cartcontrol",{directives:[{name:"show",rawName:"v-show",value:t.detail.count>0,expression:"detail.count>0"}],ref:"cartcontrol",attrs:{food:t.detail}})],1)])]),t._v(" "),t.detail.info?e("div",{staticClass:"info-intro"},[e("p",{staticClass:"intro-title"},[t._v("商品介绍")]),t._v(" "),e("p",{staticClass:"intro-detail"},[t._v(t._s(t.detail.info))])]):t._e(),t._v(" "),e("ratingsDetails",{attrs:{ratings:t.detail.ratings}})],1)])},a=[],n={render:i,staticRenderFns:a};s.a=n},xJD8:function(t,s,e){"use strict";var i=e("hxP8"),a=e("mtWM"),n=e.n(a);s.a={data:function(){return{seller:{},goods:{},ratings:{}}},created:function(){var t=this;n.a.get("../static/data.json").then(function(s){t.seller=s.data.seller,t.goods=s.data.goods,t.ratings=s.data.ratings}).catch(function(t){})},components:{"v-header":i.a}}},xSw9:function(t,s,e){"use strict";function i(t){e("0IVb")}var a=e("jUHR"),n=e("AsYy"),o=e("VU/8"),r=i,c=o(a.a,n.a,r,null,null);s.a=c.exports},xSyG:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("v-header",{attrs:{seller:t.seller}}),t._v(" "),e("ul",{staticClass:"tab"},[e("li",[e("router-link",{attrs:{to:"/goods"}},[t._v("商品")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"/ratings"}},[t._v("评价")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"/seller"}},[t._v("商家")])],1)]),t._v(" "),e("router-view",{attrs:{goods:t.goods,seller:t.seller,ratings:t.ratings}})],1)},a=[],n={render:i,staticRenderFns:a};s.a=n}},["NHnr"]);
//# sourceMappingURL=app.96e270ca87e4271155b3.js.map